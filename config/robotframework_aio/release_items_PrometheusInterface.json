# **************************************************************************************************************
#
# Copyright 2020-2024 Robert Bosch GmbH
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# **************************************************************************************************************
#
# ========== Release Items for component 'PrometheusInterface' ==========
#
# Basically this component is stand-alone, but can also be used as part of an automation framework called
# RobotFramework AIO. More information about this framework you can find here:
#
# https://github.com/test-fullautomation/RobotFramework_AIO
#
# This JSON file contains component specific release information for the RobotFramework AIO.
# In case you use the component stand-alone only, you can ignore this file.
#
# --------------------------------------------------------------------------------------------------------------
#
# Format: extended JSON format with the possibility to comment out lines (by '#' at the beginning of the line).
# The reference for relative paths is the position of this file.
#
# --------------------------------------------------------------------------------------------------------------

{

# Section "COMPONENT":
# --------------------

   "COMPONENT" : "PrometheusInterface",


# Section "RELEASES" for RobotFramework AIO:
# ------------------------------------------

   "RELEASES"  : {
                   "0.12.1.;0.13.0." : [
"
Initial introduction of keyword library **PrometheusInterface**.

The interface library **PrometheusInterface** provides **Robot Framework** keywords to communicate with the monitoring
system **Prometheus**. With the help of this interface it is possible to use **Prometheus** to monitor data
provided by **Robot Framework** tests.

The monitoring system **Prometheus** has to be installed separately. Please visit the `homepage <https://prometheus.io/>`_ for that.
This homepage also contains a *getting started* section containing useful hints about how to configure the application.
Further informations can also be found `here <https://www.fullstackpython.com/prometheus.html>`_.

The entire test setup is described in the `main documentation <https://github.com/test-fullautomation/robotframework-prometheus/blob/develop/PrometheusInterface/PrometheusInterface.pdf>`_ of this keyword library.

**Example**

The goal is to count the number of *passed* and *failed* tests at two test benches: *testbench_1* and *testbench_2*.

**Step 1:** Import the interface library

| ``Library\u00a0\u00a0\u00a0\u00a0%{ROBOTPYTHONSITEPACKAGESPATH}/PrometheusInterface/prometheus_interface.py\u00a0\u00a0\u00a0\u00a0WITH\u00a0NAME\u00a0\u00a0\u00a0\u00a0rf.prometheus_interface``

**Step 2:** Create a counter for *passed* and a counter for *failed* tests (with \"testbench\" is the *name* of a label, and not the value of a label with this name;
the name of the testbench is also **not** part of the counter name!).

| ``rf.prometheus_interface.add_counter\u00a0\u00a0\u00a0\u00a0name=num_passed\u00a0\u00a0\u00a0\u00a0\u00a0description=:\u00a0number\u00a0of\u00a0passed\u00a0tests\u00a0\u00a0\u00a0\u00a0\u00a0labels=testbench``
| ``rf.prometheus_interface.add_counter\u00a0\u00a0\u00a0\u00a0name=num_failed\u00a0\u00a0\u00a0\u00a0\u00a0description=:\u00a0number\u00a0of\u00a0failed\u00a0tests\u00a0\u00a0\u00a0\u00a0\u00a0labels=testbench``

This is usually done in the suite setup.

**Step 3:** Whenever a test is *passed* or *failed* on a certain testbench, increment the corresponding counter, passing the testbench name also (here the testbench name
is the *value* of the label with name \"testbench\").

| ``rf.prometheus_interface.inc_counter\u00a0\u00a0\u00a0\u00a0name=num_passed\u00a0\u00a0\u00a0\u00a0labels=testbench_1``
| ``rf.prometheus_interface.inc_counter\u00a0\u00a0\u00a0\u00a0name=num_failed\u00a0\u00a0\u00a0\u00a0labels=testbench_2``

And so on.
"
                                       ],
                   "0.13.2.;0.14.0." : [
"
Added keywords for Prometheus metric types: ``Summary`` and ``Histogram``:

* ``add_summary``
* ``observe_summary``
* ``add_histogram``
* ``observe_histogram``

References:

* `Summary <https://prometheus.github.io/client_python/instrumenting/summary/>`_
* `Histogram <https://prometheus.github.io/client_python/instrumenting/histogram/>`_
"
                                       ]
                 }
}
